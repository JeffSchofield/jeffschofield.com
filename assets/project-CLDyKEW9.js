import{p as V,e as G,q as n,r as k,c as m,o as l,a as s,s as i,t as A,u as E,v as p,x as d,d as f,F as N,y as O,w,z as M,A as C,_ as R,B as y,V as J,C as z,b as g}from"./index-NEwBzf1q.js";import{_ as q,a as H}from"./ProjectImage.vue_vue_type_script_setup_true_lang-VefLovuz.js";import{u as D}from"./vue.-sixQ7xP-deYJhieZ.js";import{f as L}from"./index-CdF_yDat.js";import"./index-B-nBI0Kh.js";var $=(o=>(o[o.VIDEO=0]="VIDEO",o[o.IMAGE=1]="IMAGE",o))($||{});function B(o){return typeof o=="object"&&o.type==0}function I(o){return typeof o=="object"&&o.type==1}const Y={class:"flex flex-col"},K={key:1,class:"absolute inset-0 flex items-center justify-center"},Q={key:0,class:"flex overflow-x-auto bg-neutral-925"},T={class:"absolute inset-0 can-hover:group-hover:bg-white/10 active:bg-white/50 transition-color duration-150 text-white flex flex-col"},U={class:"p-1/4"},P=V({__name:"ProjectCarousel",props:{items:{},aspect:{}},setup(o){const b=o,v=G(0),u=n(()=>b.items[v.value]);function _(e){if(B(e))return e.thumbnail||e.poster;if(I(e))return e.thumbnail||e.src.fallback}function a(e){return e.thumbnail_focus?`${e.thumbnail_focus[0]}%, ${e.thumbnail_focus[1]}%`:"50%, 50%"}return(e,r)=>{const x=k("SvgIcon"),h=k("AbstractButton");return l(),m("div",Y,[s("div",{class:E(["relative bg-neutral-950",{"aspect-video":!e.aspect}]),style:A(e.aspect?`aspect-ratio: ${e.aspect};`:"")},[d(B)(u.value)?(l(),p(q,{key:0,src:u.value.src,controls:"",class:"aspect-video w-full h-full"},null,8,["src"])):d(I)(u.value)?(l(),m("div",K,[f(H,{image:u.value.src,alt:"Project image",class:"w-full h-full overflow-hidden","img-class":"object-contain"},null,8,["image"])])):i("",!0)],6),e.items.length>1?(l(),m("div",Q,[(l(!0),m(N,null,O(e.items,(c,t)=>(l(),p(h,{class:"relative aspect-video h-3 bg-cover cursor-pointer group",style:A({"background-image":`url(${_(c)})`,"background-position":a(c)}),onClick:j=>v.value=t},{default:w(()=>[s("div",{class:E(["absolute inset-0",{"border border-primary-200/20":v.value==t}])},null,2),s("div",T,[r[0]||(r[0]=s("div",{class:"flex-1"},null,-1)),s("div",U,[d(B)(c)?(l(),p(x,{key:0,name:"video",class:"h-1 fill-current"})):i("",!0),d(I)(c)?(l(),p(x,{key:1,name:"image",class:"h-1 fill-current"})):i("",!0)])])]),_:2},1032,["style","onClick"]))),256)),r[1]||(r[1]=s("div",{class:"w-1 bg-gradient-to-r from-black/50 to-transparent"},null,-1))])):i("",!0)])}}}),W={class:"fixed inset-0 flex items-center justify-center z-40"},X={class:"self-stretch md:self-center flex flex-col max-h-screen max-w-sm w-full min-w-xs md:rounded-1/2 shadow-md z-50 md:p-1"},Z={class:"order-3 md:order-1 flex items-center p-3/4 md:p-1/2 rounded-t-inherit bg-neutral-775 bg-gradient-to-br from-neutral-775 to-neutral-825"},ee={class:"order-2 flex-1 md:flex-initial md:min-h-1/2-screen bg-neutral-900 overflow-y-auto"},te={class:"prose prose-invert p-1"},se={class:"order-2 rounded-b-inherit bg-neutral-800"},ae={class:"flex"},le={class:"flex-1 flex flex-col xs:flex-row gap-1/2"},oe={class:"flex flex-col justify-center space-y-1/4 p-1/2"},ne={key:0,class:"text-xs leading-1/2 text-neutral-300 whitespace-nowrap"},re={class:"text-sm font-bold text-white"},ie={key:1,class:"text-xs leading-1/2 text-neutral-300 whitespace-nowrap"},ue={class:"text-sm font-bold text-white"},ce={class:"flex flex-col justify-center space-y-1/4 p-1/2"},de={key:0,class:"text-xs leading-1/2 text-neutral-300 whitespace-nowrap"},me={class:"text-sm font-bold text-white"},fe={key:1,class:"text-xs leading-1/2 text-neutral-300 whitespace-nowrap"},ve={class:"text-sm font-bold text-white"},pe={class:"p-1/2 flex gap-1/2"},_e=V({__name:"ProjectModal",emits:["close"],setup(o,{emit:b}){const{getByPath:v}=M(),u=C(),_=n(()=>u.meta.project_component),a=n(()=>u.meta.project_frontmatter||{}),e=n(()=>v(`${a.value.path}/${a.value.slug}`)||{image_focus:[]}),r=n(()=>{const c=[];return e.value&&(e.value.video&&c.push({type:$.VIDEO,src:e.value.video,thumbnail:e.value.image.fallback,thumbnail_focus:e.value.image_focus,width:1,height:1}),e.value.image&&c.push({type:$.IMAGE,src:e.value.image,thumbnail:e.value.image.fallback,thumbnail_focus:e.value.image_focus,width:1,height:1}),c.push(...e.value.carousel_items||[])),c}),x=b,h=L.format("MMMM yyyy");return D({title:n(()=>`${e.value.name?e.value.name+" | ":""} Project by Jeff Schofield`),meta:[{name:"description",content:n(()=>e.value.short_description||"")}]}),(c,t)=>{const j=k("SvgIcon"),F=k("AbstractButton"),S=k("FlatButton");return l(),m("div",W,[f(d(R),{class:"fixed inset-0 bg-black opacity-30"}),s("div",X,[s("div",Z,[f(d(J),{as:"h2",class:"flex-1 text-xl leading-3/4"},{default:w(()=>[s("b",null,y(e.value.name),1)]),_:1}),f(F,{class:"p-1/4 rounded-full can-hover:hover:bg-neutral-100/10 can-hover:active:bg-neutral-100/50 active:bg-neutral-100/50 transition-color duration-150 focus-visible:outline-none focus-visible:ring focus-visible:bg-neutral-100/10",onClick:t[0]||(t[0]=xe=>x("close"))},{default:w(()=>[f(j,{name:"close",class:"h-1 fill-neutral-100"})]),_:1})]),s("div",ee,[f(P,{items:r.value,aspect:e.value.carousel_aspect},null,8,["items","aspect"]),s("div",te,[_.value?(l(),p(z(_.value),{key:0})):i("",!0)])]),s("div",se,[s("div",ae,[s("div",le,[s("div",oe,[e.value.start_date?(l(),m("div",ne,[t[1]||(t[1]=g(" Started work ")),t[2]||(t[2]=s("br",null,null,-1)),s("span",re,y(d(h)(e.value.start_date)),1)])):i("",!0),e.value.end_date?(l(),m("div",ie,[t[3]||(t[3]=g(" Stopped work ")),t[4]||(t[4]=s("br",null,null,-1)),s("span",ue,y(d(h)(e.value.end_date)),1)])):i("",!0)]),s("div",ce,[e.value.release_date?(l(),m("div",de,[t[5]||(t[5]=g(" Released ")),t[6]||(t[6]=s("br",null,null,-1)),s("span",me,y(d(h)(e.value.release_date)),1)])):i("",!0),e.value.close_date?(l(),m("div",fe,[t[7]||(t[7]=g(" Closed ")),t[8]||(t[8]=s("br",null,null,-1)),s("span",ve,y(d(h)(e.value.close_date)),1)])):i("",!0)])]),s("div",pe,[e.value.repo?(l(),p(S,{key:0,href:e.value.repo,color:"neutral",size:"xs",class:"flex items-center gap-1/4"},{default:w(()=>[f(j,{name:"github",class:"h-[1em] fill-current"}),t[9]||(t[9]=g(" Repo")),t[10]||(t[10]=s("span",{class:"sr-only"},"sitory",-1))]),_:1},8,["href"])):i("",!0),e.value.url?(l(),p(S,{key:1,href:e.value.url,color:"sky",size:"xs",class:"flex items-center gap-1/4"},{default:w(()=>[f(j,{name:"external-link",class:"h-[1em] fill-current"}),t[11]||(t[11]=g(" Visit"))]),_:1},8,["href"])):i("",!0)])])])])])}}}),he={class:"mx-auto w-full max-w-lg flex flex-col pointer-events-auto"},ge={class:"prose prose-invert p-1 bg-neutral-975 max-w-full"},be={routeModal:_e},Be=V({...be,__name:"project",setup(o){const{getByPath:b}=M(),v=C(),u=n(()=>v.meta.project_component),_=n(()=>v.meta.project_frontmatter||{}),a=n(()=>b(`${_.value.path}/${_.value.slug}`)||{image_focus:[]}),e=n(()=>{const r=[];return a.value&&(a.value.video&&r.push({type:$.VIDEO,src:a.value.video,thumbnail:a.value.image.fallback,thumbnail_focus:a.value.image_focus,width:1,height:1}),a.value.image&&r.push({type:$.IMAGE,src:a.value.image,thumbnail:a.value.image.fallback,thumbnail_focus:a.value.image_focus,width:1,height:1}),r.push(...a.value.carousel_items||[])),r});return D({title:n(()=>`${a.value.name?a.value.name+" | ":""} Project by Jeff Schofield`),meta:[{name:"description",content:n(()=>a.value.short_description||"")}]}),(r,x)=>(l(),m("div",he,[f(P,{items:e.value,aspect:a.value.carousel_aspect,class:"md:rounded-t-1/4 md:overflow-hidden"},null,8,["items","aspect"]),s("div",ge,[u.value?(l(),p(z(u.value),{key:0})):i("",!0)])]))}});export{Be as default};
