import{e as I,f as F,g as l,r as k,o as n,c as r,a as s,h as t,i as f,b as u,j as c,n as V,k as A,F as G,l as N,w,m as E,p as C,u as z,H as O,t as y,W as H,q as D,d as x}from"./index.6f565af3.js";import{_ as R,a as J}from"./ProjectImage.77b15c61.js";import{f as W}from"./index.61f96e6d.js";import"./_commonjsHelpers.b8add541.js";import"./index.3746861a.js";var $=(o=>(o[o.VIDEO=0]="VIDEO",o[o.IMAGE=1]="IMAGE",o))($||{});function j(o){return typeof o=="object"&&o.type==0}function B(o){return typeof o=="object"&&o.type==1}const q={class:"flex flex-col"},L={key:1,class:"absolute inset-0 flex items-center justify-center"},Y={key:0,class:"flex overflow-x-auto bg-neutral-925"},K={class:"absolute inset-0 can-hover:group-hover:bg-white/10 active:bg-white/50 transition-color duration-150 text-white flex flex-col"},Q=s("div",{class:"flex-1"},null,-1),T={class:"p-1/4"},U=s("div",{class:"w-1 bg-gradient-to-r from-black/50 to-transparent"},null,-1),P=I({__name:"ProjectCarousel",props:{items:null,aspect:null},setup(o){const b=o,d=F(0),i=l(()=>b.items[d.value]);function h(e){if(j(e))return e.thumbnail||e.poster;if(B(e))return e.thumbnail||e.src.fallback}function a(e){return e.thumbnail_focus?`${e.thumbnail_focus[0]}%, ${e.thumbnail_focus[1]}%`:"50%, 50%"}return(e,_)=>{const m=k("SvgIcon"),p=k("AbstractButton");return n(),r("div",q,[s("div",{class:V(["relative bg-neutral-950",{"aspect-video":!o.aspect}]),style:A(o.aspect?`aspect-ratio: ${o.aspect};`:"")},[t(j)(t(i))?(n(),f(R,{key:0,src:t(i).src,controls:"",class:"aspect-video w-full h-full"},null,8,["src"])):t(B)(t(i))?(n(),r("div",L,[u(J,{image:t(i).src,alt:"Project image",class:"w-full h-full overflow-hidden","img-class":"object-contain"},null,8,["image"])])):c("",!0)],6),o.items.length>1?(n(),r("div",Y,[(n(!0),r(G,null,N(o.items,(v,g)=>(n(),f(p,{class:"relative aspect-video h-3 bg-cover cursor-pointer group",style:A({"background-image":`url(${h(v)})`,"background-position":a(v)}),onClick:S=>d.value=g},{default:w(()=>[s("div",{class:V(["absolute inset-0",{["border border-primary-200/20"]:d.value==g}])},null,2),s("div",K,[Q,s("div",T,[t(j)(v)?(n(),f(m,{key:0,name:"video",class:"h-1 fill-current"})):c("",!0),t(B)(v)?(n(),f(m,{key:1,name:"image",class:"h-1 fill-current"})):c("",!0)])])]),_:2},1032,["style","onClick"]))),256)),U])):c("",!0)])}}}),X={class:"fixed inset-0 flex items-center justify-center z-40"},Z={class:"self-stretch md:self-center flex flex-col max-h-screen max-w-sm w-full min-w-xs md:rounded-1/2 shadow-md z-50 md:p-1"},ee={class:"order-3 md:order-1 flex items-center p-3/4 md:p-1/2 rounded-t-inherit bg-neutral-775 bg-gradient-to-br from-neutral-775 to-neutral-825"},te={class:"order-2 flex-1 md:flex-initial md:min-h-1/2-screen bg-neutral-900 overflow-y-auto"},se={class:"prose prose-invert p-1"},oe={class:"order-2 rounded-b-inherit bg-neutral-800"},ae={class:"flex"},ne={class:"flex-1 flex flex-col xs:flex-row gap-1/2"},le={class:"flex flex-col justify-center space-y-1/4 p-1/2"},ce={key:0,class:"text-xs leading-1/2 text-neutral-300 whitespace-nowrap"},ie=x("Started work "),re=s("br",null,null,-1),ue={class:"text-sm font-bold text-white"},de={key:1,class:"text-xs leading-1/2 text-neutral-300 whitespace-nowrap"},_e=x("Stopped work "),me=s("br",null,null,-1),fe={class:"text-sm font-bold text-white"},he={class:"flex flex-col justify-center space-y-1/4 p-1/2"},pe={key:0,class:"text-xs leading-1/2 text-neutral-300 whitespace-nowrap"},ve=x("Released "),ge=s("br",null,null,-1),xe={class:"text-sm font-bold text-white"},be={key:1,class:"text-xs leading-1/2 text-neutral-300 whitespace-nowrap"},ye=x("Closed "),we=s("br",null,null,-1),ke={class:"text-sm font-bold text-white"},$e={class:"p-1/2 flex gap-1/2"},je=x(" Repo"),Be=s("span",{class:"sr-only"},"sitory",-1),Ie=x(" Visit"),Se=I({__name:"ProjectModal",emits:["close"],setup(o,{emit:b}){const{getByPath:d}=E(),i=C(),h=l(()=>i.meta.project_component),a=l(()=>i.meta.project_frontmatter||{}),e=l(()=>d(`${a.value.path}/${a.value.slug}`)||{image_focus:[]}),_=l(()=>{const p=[];return e.value&&(e.value.video&&p.push({type:$.VIDEO,src:e.value.video,thumbnail:e.value.image.fallback,thumbnail_focus:e.value.image_focus,width:1,height:1}),e.value.image&&p.push({type:$.IMAGE,src:e.value.image,thumbnail:e.value.image.fallback,thumbnail_focus:e.value.image_focus,width:1,height:1}),p.push(...e.value.carousel_items||[])),p}),m=W("MMMM yyyy");return z({title:l(()=>`${e.value.name?e.value.name+" | ":""} Project by Jeff Schofield`),meta:[{name:"description",content:l(()=>e.value.short_description||"")}]}),(p,v)=>{const g=k("SvgIcon"),S=k("AbstractButton"),M=k("FlatButton");return n(),r("div",X,[u(t(O),{class:"fixed inset-0 bg-black opacity-30"}),s("div",Z,[s("div",ee,[u(t(H),{as:"h2",class:"flex-1 text-xl leading-3/4"},{default:w(()=>[s("b",null,y(t(e).name),1)]),_:1}),u(S,{class:"p-1/4 rounded-full can-hover:hover:bg-neutral-100/10 can-hover:active:bg-neutral-100/50 active:bg-neutral-100/50 transition-color duration-150 focus-visible:outline-none focus-visible:ring focus-visible:bg-neutral-100/10",onClick:v[0]||(v[0]=Ee=>b("close"))},{default:w(()=>[u(g,{name:"close",class:"h-1 fill-neutral-100"})]),_:1})]),s("div",te,[u(P,{items:t(_),aspect:t(e).carousel_aspect},null,8,["items","aspect"]),s("div",se,[t(h)?(n(),f(D(t(h)),{key:0})):c("",!0)])]),s("div",oe,[s("div",ae,[s("div",ne,[s("div",le,[t(e).start_date?(n(),r("div",ce,[ie,re,s("span",ue,y(t(m)(t(e).start_date)),1)])):c("",!0),t(e).end_date?(n(),r("div",de,[_e,me,s("span",fe,y(t(m)(t(e).end_date)),1)])):c("",!0)]),s("div",he,[t(e).release_date?(n(),r("div",pe,[ve,ge,s("span",xe,y(t(m)(t(e).release_date)),1)])):c("",!0),t(e).close_date?(n(),r("div",be,[ye,we,s("span",ke,y(t(m)(t(e).close_date)),1)])):c("",!0)])]),s("div",$e,[t(e).repo?(n(),f(M,{key:0,href:t(e).repo,color:"neutral",size:"xs",class:"flex items-center gap-1/4"},{default:w(()=>[u(g,{name:"github",class:"h-[1em] fill-current"}),je,Be]),_:1},8,["href"])):c("",!0),t(e).url?(n(),f(M,{key:1,href:t(e).url,color:"sky",size:"xs",class:"flex items-center gap-1/4"},{default:w(()=>[u(g,{name:"external-link",class:"h-[1em] fill-current"}),Ie]),_:1},8,["href"])):c("",!0)])])])])])}}}),Me={class:"mx-auto w-full max-w-lg flex flex-col pointer-events-auto"},Ve={class:"prose prose-invert p-1 bg-neutral-975 max-w-full"},Ae={routeModal:Se},Ge=I({...Ae,__name:"project",setup(o){const{getByPath:b}=E(),d=C(),i=l(()=>d.meta.project_component),h=l(()=>d.meta.project_frontmatter||{}),a=l(()=>b(`${h.value.path}/${h.value.slug}`)||{image_focus:[]}),e=l(()=>{const _=[];return a.value&&(a.value.video&&_.push({type:$.VIDEO,src:a.value.video,thumbnail:a.value.image.fallback,thumbnail_focus:a.value.image_focus,width:1,height:1}),a.value.image&&_.push({type:$.IMAGE,src:a.value.image,thumbnail:a.value.image.fallback,thumbnail_focus:a.value.image_focus,width:1,height:1}),_.push(...a.value.carousel_items||[])),_});return z({title:l(()=>`${a.value.name?a.value.name+" | ":""} Project by Jeff Schofield`),meta:[{name:"description",content:l(()=>a.value.short_description||"")}]}),(_,m)=>(n(),r("div",Me,[u(P,{items:t(e),aspect:t(a).carousel_aspect,class:"md:rounded-t-1/4 md:overflow-hidden"},null,8,["items","aspect"]),s("div",Ve,[t(i)?(n(),f(D(t(i)),{key:0})):c("",!0)])]))}});export{Ge as default};
